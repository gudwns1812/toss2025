<!DOCTYPE html>
<html lang="ko">
  <head>
    <!-- ex46 -->
    <title>테이블 입력값 조작하기</title>
    <script>
      //연습문제
      //값 지우기 버튼을 클릭하면, 왼쪽의 입력창의 값을 지우시오.
      window.onload = () => {
        makeTable();

        var btnArray = document.getElementsByTagName("button");
        for (var i = 0; i < btnArray.length; i++) {
          //화살표 함수에는 this가 없으므로 function으로
          //이벤트를 등록합니다.
          //this : 문맥안에서 자신을 의미, function()가능,
          //       화살표함수에서는 this를 사용할 수 없다.
          btnArray[i].onclick = function () {
            //콘솔에 몇번 버튼이 클릭되었는지 출력하고,
            //왼쪽의 입력창의 값을 지우시오.
            console.log("i:" + i);
            console.log(this.value + "번째 클릭됨.");
            var input = document.getElementById("input" + this.value);
            input.value = "";
          };
        }
      };
      function makeTable() {
        //document.writeln함수를 이용하여
        //동적으로 테이블을 작성하시오.
        document.writeln("<table border=1>");
        for (var i = 1; i <= 10; i++) {
          document.writeln("<tr>");
          document.writeln("<td>목록" + i + "</td>");
          document.writeln('<td><input id="input' + i + '" type="text"></td>');
          document.writeln(
            '<td><button id="btn' +
              i +
              '" value="' +
              i +
              '">값지우기</button></td>'
          );
          document.writeln("</tr>");
        }
        document.writeln("</table");
      }
    </script>
  </head>
  <body></body>
</html>
